import { useState } from 'react';

function App() {
  const [count, setCount] = useState(0);

  // Calculate what each update would do
  const staleNextValue = count + 1; // increments by 1 
  const safeNextValue = count + 3;  // functional update increments by 3

  function incrementStale() {
    // multiple state updates with stale value. count remains stale value (old value)
    setCount(count + 1);
    setCount(count + 1);
    setCount(count + 1);
  }

  function incrementSafe() {
    // functional based (i.e. callback fn based)updates are safe
    setCount(c => c + 1);
    setCount(c => c + 1);
    setCount(c => c + 1);
  }

  function resetHandler() {                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
    setCount(0)
  }

  return (
    <div className="card">
      <h1>Pulse Board</h1>

       <div className="counter">
        <p className="count">Current Count Value: {count}</p>
        <p className="stale-next">Next (Stale): {staleNextValue}</p>
        <p className="safe-next">Next (Safe): {safeNextValue}</p>
      </div>

      <button className="stale" onClick={incrementStale}>
        Increment Stale x3
      </button>

      <button className="safe" onClick={incrementSafe}>
        Increment Safe Ã—3
      </button>

      <button className="reset" onClick={resetHandler}>
        Reset Count
      </button>
    </div>
  );
}

export default App;
